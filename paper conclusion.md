# 《INVITED: Toward an Open-Source Digital Flow: First Learnings from the OpenROAD Project》

介绍OpenROAD，寻找开发芯片上系统设计的rtl到gdsii阶段。分析了硬件系统创新局限：复杂而昂贵的工具，先进技术中使用这些工具的专家用户的短缺，硬件设计的高额成本和风险障碍。

为了减少设计周期，推进进程，专业团队分治，进行模块层次化设计。

**逻辑综合阶段：**1.使用强化学习技术来实现时间驱动逻辑优化的自主设计空间探索，开发代理，自动合成脚本，满足目标时间限制，同时最小化总面积。2. 改进了ABC中的基本缓冲算法。3.综合步骤集成了处理常用SDC命令。

**布局供电：**TritonFPlan：1. 基于Parquet模拟退火的宏包装，使用B*树表示宏位置，双标准目标规划最大化标准单元放置面积，同时最小化线长。2.为每个宏包装解决方案创建正确的drc PDN.

**时钟树综合：**动态规划算法找到具有最小估计功率的时钟树拓扑，采用容量k-means算法进行汇聚聚类。TritonCTS用于插入时钟缓冲区的合法化。

**全局布线：**UTD-Box Router工具以最小化单元内的拥塞和溢出，最小化导线长度和通孔。整数线性规划和改进A*搜索来解决二维布线问题。

**详细布线：**Triton Route采用广度优先搜索对全局布线方案进行预处理，在保持网络连通性的前提下，降低后期产生环路的概率；考虑方向和路由轨道偏移，生成引脚访问模式。

STA：OpenSTA支持多个高级铸造节点和标准计时报表样式。

**寄生提取：**PEX工具处理铸造工艺设计工具包PDK，以建立同一层或相邻层上的导线电阻、接地电容和耦合电容的线性回归模型。输入DEF文件。输出提取寄生的SPEF文件的形式。

**Cloud****建设**；

**集成测试：**集成测试在开发过程中单独验证工具，数值分析数据回归指标和特性影响。

**未来规划：** OpenROAD项目的跨流程的普及机器学习优化、早期SoC规划和芯片-封装- pcb协同设计

**经验教训：**正确心态、项目期望、解决开源软件EDA生态系统的基本结构障碍。

**旨在开发自动开源的数字布局实现工具链。**

# Bridging Academic Open-Source EDA to Real-World Usability

OpenROAD项目旨在创建一个完全自主的开源工具链，用于生成完整的“RTL-to-GDS”数字布局。解决问题包括：工程资源、许可、协作和可重复性。

创建可用的开源软件接收用户的反馈和指导，与开发人员形成快速反馈循环，以便快速迭代软件。

提高软件的自主性，使用专业商业数据进行测试，但使用公共基础设施进行开发。通过团队开发工具，生成洁净、成熟的工具开发链。

**逻辑综合：**Yosys提供从Verilog RTL到netlist的合成，OpenROAD提供从netlist到DEF的PnR, KLayout提供从DEF到GDS的转换以及设计规则检查(DRC)和布局与原理图检查(LVS)。

**挑战：**

1. Flow同步问题：同步发生的规模太细，无法依赖于软件打包。

2. 工具环境：缺乏工具与工具之间的解决方案，例如：修复工具之间不正确或不一致的DEF输出，修复依赖于技术的工具问题。弊端：增加技术债务，给未来的发展带来负担。

3. 参数优化：目标是实现全自动化，但参数调优依旧不能自动，且库、堆栈等跨平台参数问题。

**设计规则支持：**

1. 单向和轨道路由；

2. 宽金属触发宽度感知间距规则，通过封闭规则和通孔的最小数量；

3. 宏单元的轨道引脚：不规则，不匀称的宽度与形状；

4. 避免布线考虑NDRs, OpenROAD的PDN发生器增加了布线阻塞，并在电源条之间使用了轨道上最小宽度的堆叠过孔。

**测试：**

1. 解决方式：加强约束与扩大用例：密集的平面图，多电源，多时钟、设计流程不兼容问题。

2. 用例设置多层次案例；

3. 跨平台生成宏。

**集成：**

1. 问题报告

2. 延迟反馈

3. 稳定性。

定期更新OpenROAD的子模块引用，并在工具上执行全流程回归测试。

此阶段挑战：测试规模与商业代码的不公开性。

**展望：在短期内专注于提升用户体验；长期提高自主性，逐渐走向全自治。**

**1.** **内置工具的反馈**

公共基板允许工具之间更容易地交互；前步骤工具能够更好地意识到之后步骤工具问题，节省迭代时间（多目标动态规划）

**2.** **自动时钟门控**

研究实现ACG的路径；或对综合的改进。

**3.** **寄生提取**

（1）提取寄生；

（2）乘以导线长度；

（3）提取寄生相关。

OpenRCX：Automatic golden correlation，Full-stack solution

**总结：**

1.早测试，常测试

2.提升体验

3. 提升质量